<h2>Neuer Auftrag erfassen</h2>


<form class="form-horizontal" name="NewMediumForm">

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Quelle</h3>
    </div>
    <div class="panel-body">
      <div class="form-group">
        <label for="inputSourceType" class="col-sm-2 control-label">Typ</label>

        <div class="col-sm-8">
          <select id="inputSourceType" class="form-control" ng-model="article.sourceSel" ng-options="medium.name for medium in sourceMedia"></select>
        </div>

        <div class="col-sm-2">
          <img src="{{article.sourceSel.image}}" class="img-responsive" alt="article.sourceSel.name" style="height: 60px">
        </div>
      </div>

      <div class="form-group">
        <label for="inputSourceName" class="col-sm-2 control-label">Beschriftung</label>

        <div class="col-sm-10">
          <input type="text" class="form-control" id="inputSourceName" name="inputSourceName" placeholder="Beschriftung der Kassette"
                 aria-describedby="helpBlock" ng-model="article.name" required>
          <div class="text-danger" ng-show="NewMediumForm.inputSourceName.$error.required">Die Angaben der Beschriftung ist zwingend n&ouml;tig, damit wir die Kassette zuordnen k&ouml;nnen.<br/></div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Ziel</h3>
    </div>
    <div class="panel-body">

      <div class="form-group">
        <label for="inputTargetType" class="col-sm-2 control-label">Typ</label>

        <div class="col-sm-8">
          <select id="inputTargetType" class="form-control" ng-model="article.targetSel" ng-options="medium.name for medium in targetMedia"></select>
        </div>

        <div class="col-sm-2">
          <img src="{{article.targetSel.image}}" class="img-responsive" alt="article.targetSel.name" style="height: 60px">
        </div>

      </div>



      <div class="form-group" ng-show="article.targetSel.copies">
        <label for="inputAmount" class="col-sm-2 control-label">Anzahl</label>

        <div class="col-sm-10">
          <input type="number" min="1" max="50" class="form-control" id="inputAmount" name="inputAmount" placeholder="Anzahl" ng-model="article.amount" required>
          <div class="text-danger" ng-show="NewMediumForm.inputAmount.$error.min">Es muss mindestens 1 Kopie gew&auml;hlt werden.<br/></div>
          <div class="text-danger" ng-show="NewMediumForm.inputAmount.$error.max">Es sind maximal 50 Kopien zugelassen.<br/></div>
          <div class="text-danger" ng-show="NewMediumForm.inputAmount.$error.required">Bitte geben Sie die Anzahl Kopien an (1 - 50 St&uuml;ck).<br/></div>
        </div>
      </div>

      <div class="form-group" ng-hide="article.targetSel.data">
        <label for="inputTargetTitle" class="col-sm-2 control-label">Titel</label>

        <div class="col-sm-10">
          <input type="text" class="form-control" id="inputTargetTitle" placeholder="H&uuml;llentitel" ng-model="article.targetTitle">
        </div>
      </div>


    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">Kosten&uuml;bersicht</div>

    <div class="table-responsive">

      <table class="table">
        <thead>
        <tr>
          <th>Nr</th>
          <th>Auftrag</th>
          <th class="text-right">Kosten [CHF]</th>
        </tr>
        </thead>

        <tbody>
        <tr>
          <th scope="row">1</th>
          <td>&Uuml;berspielung, Digitalisierung</td>
          <td class="text-right">{{article.sourceSel.price}}</td>
        </tr>
        <tr>
          <th scope="row">2</th>
          <td>{{article.amount}} Kopien Ã  CHF {{article.targetSel.price}}</td>
          <td class="text-right">{{article.amount * article.targetSel.price}}</td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
          <td colspan="3" class="text-right"><strong>Total {{article.sourceSel.price + article.amount * article.targetSel.price}}</strong></td>
        </tr>
        </tfoot>
      </table>
    </div>
  </div>

  <div class="text-right">
    <a class="btn btn-default" ng-href="#/" role="button">Abbrechen</a>
    <a class="btn btn-primary btn-sm" ng-click="cart.addArticle(article);" ng-href="#/" role="button">Hinzuf&uuml;gen</a>
  </div>

  <br>

</form>

